<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

     <!-- bootstrap cdn -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
     
     <!-- jquery cdn -->
     <script src="https://code.jquery.com/jquery-latest.min.js"></script>

</head>
<body>
    <!--
    ES6 표준 문법
    - let(한번 선언하면 다시 선언할 수 없다), const(할당된 값을 변경할 수 없다)
    -->

    <button id="this-btn">BUTTON</button>

    <script>
        //const a = 20;
        //a = 10;
        console.log("const 상수는 할당된 값을 변경할 수 없지만 객체 또는 배열로 선언된 객체의 속성 및 배열의 요소는 변경할 수 있음")
        const obj = {
            num : 10,
            text : 'hi'
        };
        obj.num = 20;
        console.log(obj.num);

        console.log("배열로 선언하고 배열 요소를 추가");
        const ary = [];
        console.log(ary);
        ary.push(10); ary.push(20); ary.push(30);
        console.log(ary);
        console.log("");
        console.log("화살표 함수(Arrow Function)");
        console.log("기존 스크립트 함수 문법");
        
        let func01 = function() {

        }
        function func02() {

        }

        let func03 = () => {

        }
        () => 10 + 20;

        () => {
            print();
            log();
            return 10 + 20;
        }

        const func04 = (num) => {
            return num * 10;
        }

        const func05 = num => num * 10;

        console.log("func04 - " ,func04(10));
        console.log("func05 - " ,func05(10));

        const foo = {
            name : "bar" ,
            age : 10000 ,
            printThis() {
                console.log(this);
                const innerFunc = () => {
                    return this;
                }
                console.log( innerFunc() );
            }
        };

        foo.printThis();

        console.log("setTimeout() >>> this Server Send Event(SSE) ");

        const bao = {
            name : "bar" ,
            age : 10000 ,
            getThisArrowFunc : function() {
                console.log(this);
                setTimeout( () => {
                    console.log(this);
                }, 2000);
            },
            getThisFunc : function() {
                console.log(this);
                setTimeout(function() {
                    console.log(this);
                }, 2000)
            }
        };
        bao.getThisArrowFunc();
        bao.getThisFunc();

        console.log("addEventListener 에서의 this");
        const btn = document.getElementById("this-btn");
        console.log(typeof btn);
        console.log(btn);
        
        btn.addEventListener("click" , () => {
            console.log(this === window);
            console.log("arrow function this , " ,this.innerText);
        });
        
        /*
        btn.addEventListener("click" , function() {
            console.log(this === btn); //타입과 데이터를 엄격하게 체크
            console.log("arrow function this , " ,this.innerText);
        });
        */

        console.log("Enhanced Object Literal == 향상된 객체 리터럴");
        console.log("기존 객체 정의 방식");
        const testObj = {
            language : 'javascript',
            coding() {
                console.log("Hello Javascript");
            }
        };
        console.log(testObj.language);
        console.log(testObj.coding());
        console.log("객체를 정의하는 축약 문법 >>> ");

        let language = 'Javascript';
        const myComponent = {
            template : '<p>My COmponent</p>'
        };

        const testObj02 = {
            language,
            components : {
                myComponent
            }
        };

        console.log(testObj02.language);
        console.log(testObj02.components.myComponent);

        console.log("Spread Operator 특정객체 또는 배열의 값을 복제하거나 옮길 때 사용하는 연산자");
        console.log("...");

        const testObj03 = {
            a : 10,
            b : 20
        };

        const testObj04 = {...testObj03};
        console.log(testObj03 == testObj04);
        console.log(testObj03);
        console.log(testObj04);

        const arr = [testObj04,testObj04,testObj04];
        const newArr = [...arr];
        console.log(newArr);

        console.log("Template Literal(${}) : 자바스크립트에서 문자열을 입력하는 방식");
        console.log("문자열 중간에 변수를 대입해야한다면?");
        const str = `Hello ES6`;
        // const expression = "I love " + language + " !";
        // const expression = `I love ${language} !`;
        const expression = `I love ${language.split('').reverse().join('')} !`;
        console.log(expression);

        console.log("Destructuring - 구조분해 문법");

        const testObj05 = {
            a : 10, b : 20, c : 30
        };

        /*
        var a = testObj05.a;
        var b = testObj05.b;
        var c = testObj05.c;
        */

        
        var {a, b, c} = testObj05;
        console.log(a);
        console.log(b);
        console.log(c);

        const destructAry = [1,2,3,4,5];

        var {a, b, c, d, e} = destructAry;  //배열은 구조분해가 불가능하다
        console.log("destructAry >>>>>> " , a);
        console.log("destructAry >>>>>> " , b);
        

    </script>
</body>
</html>